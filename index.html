<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2E5A8B">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="China Trip">
    <title>China Honeymoon 2026</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--primary:#2E5A8B;--primary-dark:#1e3d5c;--accent:#E8B86D;--success:#4CAF50;--warning:#FF9800;--bg:#f5f7fa;--card:#fff;--text:#1a1a2e;--text-light:#666;--border:#e0e0e0}
        body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding-bottom:80px}
        .header{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#fff;padding:20px;position:sticky;top:0;z-index:100;box-shadow:0 2px 10px rgba(0,0,0,.1)}
        .header-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
        .header h1{font-size:1.3rem;font-weight:600}
        .header-date{font-size:.85rem;opacity:.9}
        .current-location{background:rgba(255,255,255,.15);border-radius:12px;padding:12px 15px;display:flex;align-items:center;gap:12px}
        .location-icon{font-size:2rem}
        .location-info h2{font-size:1.1rem;font-weight:600;margin-bottom:2px}
        .location-info p{font-size:.8rem;opacity:.9}
        .weather-widget{background:var(--card);border-radius:16px;margin:15px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.06)}
        .weather-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
        .weather-header h3{font-size:.9rem;color:var(--text-light);font-weight:500}
        .weather-main{display:flex;align-items:center;gap:20px}
        .weather-icon{font-size:3rem}
        .weather-temp{font-size:2.5rem;font-weight:600;color:var(--primary)}
        .weather-desc{font-size:.9rem;color:var(--text-light)}
        .weather-details{display:flex;gap:20px;margin-top:15px;padding-top:15px;border-top:1px solid var(--border)}
        .weather-detail{display:flex;align-items:center;gap:8px;font-size:.85rem;color:var(--text-light)}
        .day-counter{background:linear-gradient(135deg,var(--accent) 0%,#d4a056 100%);color:#fff;margin:0 15px;border-radius:16px;padding:20px;text-align:center;box-shadow:0 4px 15px rgba(232,184,109,.3)}
        .day-counter .day-number{font-size:3rem;font-weight:700;line-height:1}
        .day-counter .day-label{font-size:.9rem;opacity:.9;margin-top:5px}
        .day-counter .trip-progress{margin-top:15px;background:rgba(255,255,255,.3);border-radius:10px;height:8px;overflow:hidden}
        .day-counter .progress-bar{background:#fff;height:100%;border-radius:10px;transition:width .5s ease}
        .transport-card{background:var(--card);border-radius:16px;margin:15px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.06);border-left:4px solid var(--warning)}
        .transport-header{display:flex;align-items:center;gap:10px;margin-bottom:15px}
        .transport-header h3{font-size:.9rem;color:var(--text-light);font-weight:500}
        .transport-main{display:flex;align-items:center;gap:15px}
        .transport-icon{font-size:2rem;width:50px;height:50px;background:#fff3e0;border-radius:12px;display:flex;align-items:center;justify-content:center}
        .transport-details h4{font-size:1rem;font-weight:600;margin-bottom:4px}
        .transport-details p{font-size:.85rem;color:var(--text-light)}
        .transport-time{margin-left:auto;text-align:right}
        .transport-time .time{font-size:1.2rem;font-weight:600;color:var(--primary)}
        .transport-time .date{font-size:.8rem;color:var(--text-light)}
        .section{margin:15px}
        .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
        .section-header h3{font-size:1rem;font-weight:600;color:var(--text)}
        .activity-card{background:var(--card);border-radius:12px;padding:15px;margin-bottom:10px;box-shadow:0 2px 6px rgba(0,0,0,.04);display:flex;gap:12px}
        .activity-time{font-size:.8rem;font-weight:600;color:var(--primary);min-width:55px}
        .activity-content h4{font-size:.95rem;font-weight:500;margin-bottom:4px}
        .activity-content p{font-size:.8rem;color:var(--text-light);line-height:1.4}
        .activity-romantic{border-left:3px solid #e91e63}
        .romantic-badge{display:inline-block;background:#fce4ec;color:#e91e63;font-size:.7rem;padding:2px 8px;border-radius:10px;margin-left:8px}
        .city-scroll{display:flex;gap:12px;overflow-x:auto;padding:5px 15px 15px;margin:0 -15px;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
        .city-scroll::-webkit-scrollbar{display:none}
        .city-card{flex-shrink:0;width:140px;background:var(--card);border-radius:12px;padding:15px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,.06);scroll-snap-align:start;cursor:pointer;transition:transform .2s,box-shadow .2s}
        .city-card:hover,.city-card:active{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
        .city-card.active{border:2px solid var(--primary);background:#f0f5ff}
        .city-card.completed{opacity:.6}
        .city-emoji{font-size:2rem;margin-bottom:8px}
        .city-name{font-size:.9rem;font-weight:600;margin-bottom:4px}
        .city-dates{font-size:.75rem;color:var(--text-light)}
        .city-days{font-size:.7rem;color:var(--primary);font-weight:500;margin-top:6px}
        .bottom-nav{position:fixed;bottom:0;left:0;right:0;background:var(--card);display:flex;justify-content:space-around;padding:10px 0 calc(10px + env(safe-area-inset-bottom));box-shadow:0 -2px 10px rgba(0,0,0,.1);z-index:100}
        .nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 16px;border:none;background:none;color:var(--text-light);font-size:.7rem;cursor:pointer;transition:color .2s}
        .nav-item.active{color:var(--primary)}
        .nav-item .nav-icon{font-size:1.4rem}
        .view{display:none}
        .view.active{display:block}
        .day-selector{display:flex;gap:8px;overflow-x:auto;padding:15px;background:var(--card);margin:15px;border-radius:12px;-webkit-overflow-scrolling:touch}
        .day-selector::-webkit-scrollbar{display:none}
        .day-btn{flex-shrink:0;width:50px;padding:10px 5px;border:none;background:var(--bg);border-radius:10px;cursor:pointer;text-align:center;transition:all .2s}
        .day-btn.active{background:var(--primary);color:#fff}
        .day-btn.today{border:2px solid var(--accent)}
        .day-btn .day-num{font-size:1.1rem;font-weight:600}
        .day-btn .day-name{font-size:.65rem;margin-top:2px}
        .hotel-card{background:var(--card);border-radius:16px;margin:15px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.06)}
        .hotel-header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
        .hotel-icon{font-size:1.5rem}
        .hotel-name{font-size:1rem;font-weight:600}
        .hotel-address{font-size:.8rem;color:var(--text-light);margin-top:4px}
        .hotel-chinese{font-size:.85rem;color:var(--primary);margin-top:8px;padding:8px 12px;background:#f0f5ff;border-radius:8px}
        .tip-card{background:#fff8e1;border-radius:12px;padding:15px;margin:15px;display:flex;gap:12px}
        .tip-icon{font-size:1.3rem}
        .tip-content{font-size:.85rem;color:#5d4037;line-height:1.5}
        .install-banner{display:none;background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#fff;padding:15px;margin:15px;border-radius:12px;align-items:center;gap:12px}
        .install-banner.show{display:flex}
        .install-banner p{flex:1;font-size:.85rem}
        .install-btn{background:#fff;color:var(--primary);border:none;padding:8px 16px;border-radius:8px;font-weight:600;cursor:pointer}
        .close-banner{background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;opacity:.8}
        .all-days-list{padding:15px}
        .day-group{margin-bottom:20px}
        .day-group-header{font-size:.85rem;color:var(--text-light);margin-bottom:10px;padding-left:5px}
        .day-list-item{background:var(--card);border-radius:12px;padding:15px;margin-bottom:8px;display:flex;align-items:center;gap:15px;cursor:pointer}
        .day-list-item.current{border:2px solid var(--primary)}
        .day-list-number{width:45px;height:45px;background:var(--bg);border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}
        .day-list-number.current{background:var(--primary);color:#fff}
        .day-list-number .num{font-size:1.2rem;font-weight:700}
        .day-list-number .label{font-size:.6rem;text-transform:uppercase}
        .day-list-info{flex:1}
        .day-list-info h4{font-size:.95rem;font-weight:600;margin-bottom:2px}
        .day-list-info p{font-size:.8rem;color:var(--text-light)}
        .day-list-emoji{font-size:1.5rem}
    
        /* ===== Checklist View ===== */
        .checklist-summary{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:12px}
        .checklist-summary-top{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px}
        .checklist-summary h4{font-size:.95rem;font-weight:600}
        .small-btn{background:var(--bg);border:1px solid var(--border);padding:8px 10px;border-radius:10px;font-size:.8rem;color:var(--text);cursor:pointer}
        .small-btn:active{transform:translateY(1px)}
        .btn-row{display:flex;gap:8px;align-items:center}
        .primary-btn{background:var(--primary);color:#fff;border:none}
        .primary-btn:hover{filter:brightness(.98)}
        .checklist-progress{background:var(--bg);border-radius:10px;height:10px;overflow:hidden}
        .checklist-progress-bar{background:var(--success);height:100%;border-radius:10px;transition:width .3s ease}
        .checklist-meta{margin-top:10px;font-size:.8rem;color:var(--text-light);display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
        .checklist-category{background:var(--card);border-radius:16px;padding:16px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.06)}
        .checklist-category-header{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px}
        .checklist-category-header h3{font-size:1rem;font-weight:600}
        .checklist-category-header .count{font-size:.8rem;color:var(--text-light)}
        .check-item{display:flex;gap:12px;align-items:flex-start;padding:10px 0;border-top:1px solid var(--border)}
        .check-item:first-of-type{border-top:none;padding-top:0}
        .check-item input[type="checkbox"]{width:22px;height:22px;margin-top:2px;accent-color:var(--primary);cursor:pointer;flex-shrink:0}
        .check-item .check-text{flex:1}
        .check-item .check-title{font-size:.9rem;font-weight:500;line-height:1.35}
        .check-item .check-sub{font-size:.78rem;color:var(--text-light);margin-top:3px;line-height:1.35}
        .check-item.completed .check-title{text-decoration:line-through;opacity:.65}
        .check-item.completed .check-sub{opacity:.6}
        .pill{display:inline-block;background:#f0f5ff;color:var(--primary);font-size:.72rem;padding:2px 8px;border-radius:999px;margin-right:6px}

        .checklist-add{background:var(--card);border-radius:16px;padding:14px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:12px}
        .checklist-add .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
        .checklist-add input{flex:1;min-width:220px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;font-size:.9rem}
        .checklist-add .helper{font-size:.78rem;color:var(--text-light);margin-top:6px}

        .check-item-row{display:flex;gap:10px;align-items:flex-start;padding:10px 0;border-top:1px solid var(--border)}
        .check-item-row:first-of-type{border-top:none;padding-top:0}
        .check-item-row .check-item{border-top:none;padding:0;flex:1}
        .icon-btn{background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:7px 9px;cursor:pointer;line-height:1;font-size:.95rem}
        .icon-btn:active{transform:translateY(1px)}
        .empty-hint{font-size:.85rem;color:var(--text-light);padding:10px 0}

    </style>
</head>
<body>
    <header class="header">
        <div class="header-top">
            <h1>üá®üá≥ China Honeymoon 2026</h1>
            <span class="header-date" id="currentDate"></span>
        </div>
        <div class="current-location">
            <span class="location-icon" id="locationIcon">üèôÔ∏è</span>
            <div class="location-info">
                <h2 id="currentCity">Loading...</h2>
                <p id="cityDates">Checking your itinerary...</p>
            </div>
        </div>
    </header>

    <div class="install-banner" id="installBanner">
        <p>üì≤ Install this app for offline access</p>
        <button class="install-btn" id="installBtn">Install</button>
        <button class="close-banner" id="closeBanner">√ó</button>
    </div>

    <main class="view active" id="homeView">
        <div class="day-counter">
            <div class="day-number" id="dayNumber">-</div>
            <div class="day-label" id="dayLabel">Day of your adventure</div>
            <div class="trip-progress"><div class="progress-bar" id="progressBar" style="width:0%"></div></div>
        </div>

        <div class="weather-widget" id="weatherWidget">
            <div class="weather-header"><h3>Current Weather</h3><span id="weatherLocation"></span></div>
            <div class="weather-main">
                <span class="weather-icon" id="weatherIcon">üå§Ô∏è</span>
                <div><div class="weather-temp" id="weatherTemp">--¬∞C</div><div class="weather-desc" id="weatherDesc">Loading weather...</div></div>
            </div>
            <div class="weather-details">
                <div class="weather-detail"><span>üíß</span><span id="weatherHumidity">--%</span></div>
                <div class="weather-detail"><span>üí®</span><span id="weatherWind">-- km/h</span></div>
                <div class="weather-detail"><span>üå°Ô∏è</span><span id="weatherFeels">Feels --¬∞C</span></div>
            </div>
        </div>

        <div class="transport-card" id="transportCard">
            <div class="transport-header"><span>üöÄ</span><h3>Next Transportation</h3></div>
            <div class="transport-main">
                <div class="transport-icon" id="transportIcon">‚úàÔ∏è</div>
                <div class="transport-details"><h4 id="transportRoute">Loading...</h4><p id="transportInfo">Checking your schedule...</p></div>
                <div class="transport-time"><div class="time" id="transportTime">--:--</div><div class="date" id="transportDate">---</div></div>
            </div>
        </div>

        <div class="section">
            <div class="section-header"><h3>Your Journey</h3></div>
            <div class="city-scroll" id="cityScroll"></div>
        </div>

        <div class="section">
            <div class="section-header"><h3 id="activitiesTitle">Today's Activities</h3></div>
            <div id="activityFormWrap"></div>
            <div id="activitiesList"></div>
        </div>

        <div class="tip-card" id="tipCard"><span class="tip-icon">üí°</span><div class="tip-content" id="tipContent">Loading tip...</div></div>

        <div class="hotel-card" id="hotelCard">
            <div class="hotel-header"><span class="hotel-icon">üè®</span><div><div class="hotel-name" id="hotelName">Loading...</div><div class="hotel-address" id="hotelAddress"></div></div></div>
            <div class="hotel-chinese" id="hotelChinese"></div>
        </div>
    </main>

    <main class="view" id="scheduleView">
        <div class="day-selector" id="daySelector"></div>
        <div id="activityFormWrapSchedule"></div>
        <div id="scheduleContent"></div>
    </main>

    <main class="view" id="allDaysView">
        <div class="all-days-list" id="allDaysList"></div>
    </main>

    
    <main class="view" id="checklistView">
        <div class="section">
            <div class="section-header">
                <h3>Checklist</h3>
                <div class="btn-row">
                    <button class="small-btn primary-btn" id="addTaskBtn">+ Add</button>
                    <button class="small-btn" id="resetChecklistBtn">Reset</button>
                </div>
            </div>
            <div class="checklist-summary" id="checklistSummary"></div>
        </div>
        <div class="section" id="checklistAddWrap"></div>
        <div class="section" id="checklistContent"></div>
    </main>

    <main class="view" id="translationsView">
        <div class="section">
            <div class="section-header">
                <h3>üó£Ô∏è Translations</h3>
            </div>
            <div id="translationsContent"></div>
        </div>
    </main>

<nav class="bottom-nav">
        <button class="nav-item active" data-view="homeView"><span class="nav-icon">üè†</span><span>Today</span></button>
        <button class="nav-item" data-view="scheduleView"><span class="nav-icon">üìÖ</span><span>Schedule</span></button>
        <button class="nav-item" data-view="checklistView"><span class="nav-icon">‚úÖ</span><span>Checklist</span></button>
        <button class="nav-item" data-view="translationsView"><span class="nav-icon">üó£Ô∏è</span><span>Translations</span></button>
        <button class="nav-item" data-view="allDaysView"><span class="nav-icon">üìã</span><span>All Days</span></button>
    </nav>

    <script src="app.js"></script>
</body>
</html>
